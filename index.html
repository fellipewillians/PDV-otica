<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ótica Torres - PDV</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-glasses"></i>
                <h1>Ótica Visão Clara</h1>
            </div>
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Buscar produto...">
                <button class="search-btn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <div class="user-info">
                <span>Vendedor: João Silva</span>
                <button class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Categories -->
            <section class="categories">
                <h2>Categorias</h2>
                <div class="category-grid">
                    <button class="category-btn active" data-category="grau">
                        <i class="fas fa-glasses"></i>
                        <span>Óculos de Grau</span>
                    </button>
                    <button class="category-btn" data-category="sol">
                        <i class="fas fa-sun"></i>
                        <span>Óculos de Sol</span>
                    </button>
                    <button class="category-btn" data-category="lentes">
                        <i class="fas fa-eye"></i>
                        <span>Lentes</span>
                    </button>
                    <button class="category-btn" data-category="servicos">
                        <i class="fas fa-tools"></i>
                        <span>Serviços</span>
                    </button>
                </div>
            </section>

            <div class="content-wrapper">
                <!-- Products Section -->
                <section class="products-section">
                    <h2>Produtos</h2>
                    <div class="products-grid" id="productsGrid">
                        <!-- Produtos serão carregados dinamicamente -->
                    </div>
                </section>

                <!-- Cart Section -->
                <aside class="cart-section">
                    <div class="cart-header">
                        <h3><i class="fas fa-shopping-cart"></i> Carrinho</h3>
                        <span class="cart-count">0 itens</span>
                    </div>
                    <div class="cart-items" id="cartItems">
                        <p class="empty-cart">Carrinho vazio</p>
                    </div>
                    <div class="cart-total">
                        <div class="total-line">
                            <span>Subtotal:</span>
                            <span id="subtotal">R$ 0,00</span>
                        </div>
                        <div class="total-line">
                            <span>Desconto:</span>
                            <span id="discount">R$ 0,00</span>
                        </div>
                        <div class="total-line total">
                            <span>Total:</span>
                            <span id="total">R$ 0,00</span>
                        </div>
                    </div>
                    <div class="cart-actions">
                        <button class="btn-secondary" id="clearCart">Limpar</button>
                        <button class="btn-primary" id="checkout">Finalizar</button>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <!-- Customer Modal -->
    <div class="modal" id="customerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Dados do Cliente</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="customerForm">
                    <div class="form-group">
                        <label for="customerName">Nome:</label>
                        <input type="text" id="customerName" required>
                    </div>
                    <div class="form-group">
                        <label for="customerPhone">Telefone:</label>
                        <input type="tel" id="customerPhone" required>
                    </div>
                    <div class="form-group">
                        <label for="customerEmail">Email:</label>
                        <input type="email" id="customerEmail">
                    </div>
                    <div class="form-group">
                        <label for="paymentMethod">Forma de Pagamento:</label>
                        <select id="paymentMethod" required>
                            <option value="">Selecione...</option>
                            <option value="dinheiro">Dinheiro</option>
                            <option value="cartao">Cartão</option>
                            <option value="pix">PIX</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="cancelCheckout">Cancelar</button>
                <button class="btn-primary" id="confirmSale">Confirmar Venda</button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
        <div class="modal-content success">
            <div class="modal-header">
                <h3><i class="fas fa-check-circle"></i> Venda Realizada!</h3>
            </div>
            <div class="modal-body">
                <p>Venda realizada com sucesso!</p>
                <p><strong>Total: <span id="saleTotal"></span></strong></p>
                <p>Cupom fiscal será impresso automaticamente.</p>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" id="printReceipt">Imprimir Cupom</button>
                <button class="btn-secondary" id="newSale">Nova Venda</button>
            </div>
        </div>
    </div>

    <!-- Receipt Template (Hidden) -->
    <div id="receiptTemplate" class="receipt-template">
        <div class="receipt-content">
            <div class="receipt-header">
                <h2>ÓTICA VISÃO CLARA</h2>
                <p>CNPJ: 12.345.678/0001-90</p>
                <p>Rua das Flores, 123 - Centro</p>
                <p>São Paulo - SP - CEP: 01234-567</p>
                <p>Tel: (11) 9999-9999</p>
                <hr>
            </div>
            
            <div class="receipt-info">
                <p><strong>CUPOM FISCAL NÃO FISCAL</strong></p>
                <p>Data: <span id="receiptDate"></span></p>
                <p>Hora: <span id="receiptTime"></span></p>
                <p>Vendedor: <span id="receiptSeller"></span></p>
                <p>Cliente: <span id="receiptCustomer"></span></p>
                <p>Telefone: <span id="receiptCustomerPhone"></span></p>
                <hr>
            </div>
            
            <div class="receipt-items">
                <table>
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Qtd</th>
                            <th>Valor Unit.</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody id="receiptItemsList">
                        <!-- Itens serão inseridos aqui -->
                    </tbody>
                </table>
                <hr>
            </div>
            
            <div class="receipt-total">
                <p>Subtotal: R$ <span id="receiptSubtotal"></span></p>
                <p>Desconto: R$ <span id="receiptDiscount"></span></p>
                <p><strong>TOTAL GERAL: R$ <span id="receiptTotal"></span></strong></p>
                <p>Forma Pagto: <span id="receiptPayment"></span></p>
                <hr>
            </div>
            
            <div class="receipt-footer">
                <p>*** CUPOM NÃO FISCAL ***</p>
                <p>Obrigado pela preferência!</p>
                <p>Volte sempre!</p>
                <p>Garantia: 90 dias para defeitos de fabricação</p>
                <p>Troca: até 7 dias com nota fiscal</p>
                <p class="receipt-number">Cupom Nº: <span id="receiptNumber"></span></p>
                <p class="receipt-timestamp">Emitido em: <span id="receiptTimestamp"></span></p>
            </div>
        </div>
    </div>

    <script src="js/script.js"></script>
</body>
</html>